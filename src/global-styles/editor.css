/**
 * Editor-specific styles for the CodeMirror markdown editor
 * These styles customize the appearance of the editor to match the design system
 */

/* =============================================================================
   Editor CSS Variables (used by src/lib/editor-theme.ts)
   ============================================================================= */

:root {
    --scrollbar-thumb: oklch(0.82 0.01 260);
    --scrollbar-thumb-hover: oklch(0.7 0.01 260);

    --editor-bg: var(--background);
    --editor-fg: oklch(0.2795 0.0368 260.031); /* #1e293b */
    --editor-caret: var(--primary);
    --editor-selection: oklch(0.6011 0.1868 254.5 / 0.15);
    --editor-selection-match: oklch(0.6011 0.1868 254.5 / 0.1);
    --editor-line-highlight: transparent;

    --editor-gutter-bg: oklch(0.9842 0.0034 247.8575); /* #f8fafc */
    --editor-gutter-fg: oklch(0.869 0.0198 252.8943); /* #cbd5e1 */
    --editor-gutter-active-fg: oklch(0.7107 0.0351 256.7878); /* #94a3b8 */
    --editor-gutter-border: oklch(0.9683 0.0069 247.8956); /* #f1f5f9 */

    /* Editor syntax highlighting tokens */
    --editor-syntax-heading: var(--primary);
    --editor-syntax-link: var(--primary);
    --editor-syntax-url: oklch(0.5544 0.0407 257.4166); /* #64748b */
    --editor-syntax-code: oklch(0.5413 0.2466 293.009); /* #7c3aed */
    --editor-syntax-fence: oklch(0.7107 0.0351 256.7878); /* #94a3b8 */
    --editor-syntax-quote: oklch(0.5544 0.0407 257.4166); /* #64748b */
    --editor-syntax-list: oklch(0.4455 0.0374 257.2808); /* #475569 */
    --editor-syntax-comment: oklch(0.7107 0.0351 256.7878); /* #94a3b8 */

    --editor-syntax-keyword: oklch(0.5413 0.2466 293.009); /* #7c3aed */
    --editor-syntax-function: oklch(0.5461 0.2152 262.8809); /* #2563eb */
    --editor-syntax-variable: oklch(0.6089 0.1109 221.7231); /* #0891b2 */
    --editor-syntax-string: oklch(0.6271 0.1699 149.2138); /* #16a34a */
    --editor-syntax-number: oklch(0.6461 0.1943 41.1158); /* #ea580c */
    --editor-syntax-operator: oklch(0.4455 0.0374 257.2808); /* #475569 */
    --editor-syntax-type: oklch(0.6806 0.1423 75.834); /* #ca8a04 */
    --editor-syntax-angle: oklch(0.5544 0.0407 257.4166); /* #64748b */
    --editor-syntax-tag: oklch(0.5771 0.2152 27.325); /* #dc2626 */
    --editor-syntax-attribute: oklch(0.5413 0.2466 293.009); /* #7c3aed */
    --editor-syntax-property: oklch(0.6089 0.1109 221.7231); /* #0891b2 */

    /* Code blocks (react-syntax-highlighter) */
    --codeblock-bg: oklch(0.2925 0.0157 264.2965); /* #282c34 */
    --codeblock-fg: oklch(0.7621 0.0202 262.9873); /* #abb2bf */
}

.dark {
    --scrollbar-thumb: oklch(0.3 0.01 260);
    --scrollbar-thumb-hover: oklch(0.4 0.01 260);

    --editor-bg: var(--background);
    --editor-fg: var(--foreground);
    --editor-caret: var(--primary);
    --editor-selection: oklch(0.6011 0.1868 254.5 / 0.25);
    --editor-selection-match: oklch(0.6011 0.1868 254.5 / 0.16);
    --editor-line-highlight: oklch(0.2795 0.0368 260.031); /* #1e293b */

    --editor-gutter-bg: oklch(0.2077 0.0398 265.7549); /* #0f172a */
    --editor-gutter-fg: oklch(0.4455 0.0374 257.2808); /* #475569 */
    --editor-gutter-active-fg: oklch(0.7107 0.0351 256.7878); /* #94a3b8 */
    --editor-gutter-border: oklch(0.2795 0.0368 260.031); /* #1e293b */

    /* Editor syntax highlighting tokens (dark) */
    --editor-syntax-heading: var(--primary);
    --editor-syntax-link: var(--primary);
    --editor-syntax-url: oklch(0.7107 0.0351 256.7878); /* #94a3b8 */
    --editor-syntax-code: oklch(0.709 0.1592 293.5412); /* #a78bfa */
    --editor-syntax-fence: oklch(0.5544 0.0407 257.4166); /* #64748b */
    --editor-syntax-quote: oklch(0.7107 0.0351 256.7878); /* #94a3b8 */
    --editor-syntax-list: oklch(0.869 0.0198 252.8943); /* #cbd5e1 */
    --editor-syntax-comment: oklch(0.5544 0.0407 257.4166); /* #64748b */

    --editor-syntax-keyword: oklch(0.709 0.1592 293.5412); /* #a78bfa */
    --editor-syntax-function: oklch(0.7137 0.1434 254.624); /* #60a5fa */
    --editor-syntax-variable: oklch(0.7971 0.1339 211.5302); /* #22d3ee */
    --editor-syntax-string: oklch(0.8003 0.1821 151.711); /* #4ade80 */
    --editor-syntax-number: oklch(0.7576 0.159 55.9344); /* #fb923c */
    --editor-syntax-operator: oklch(0.869 0.0198 252.8943); /* #cbd5e1 */
    --editor-syntax-type: oklch(0.8606 0.1731 91.9357); /* #facc15 */
    --editor-syntax-angle: oklch(0.7107 0.0351 256.7878); /* #94a3b8 */
    --editor-syntax-tag: oklch(0.7106 0.1661 22.2162); /* #f87171 */
    --editor-syntax-attribute: oklch(0.709 0.1592 293.5412); /* #a78bfa */
    --editor-syntax-property: oklch(0.7971 0.1339 211.5302); /* #22d3ee */

    --codeblock-bg: oklch(0.2925 0.0157 264.2965); /* #282c34 */
    --codeblock-fg: oklch(0.7621 0.0202 262.9873); /* #abb2bf */
}

/* =============================================================================
   Scrollbar Styling
   ============================================================================= */

:where(.editor-scrollbar, .cm-editor .cm-scroller) {
    scrollbar-width: thin;
    scrollbar-color: var(--scrollbar-thumb) transparent;
}

:where(.editor-scrollbar, .cm-editor .cm-scroller)::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

:where(.editor-scrollbar, .cm-editor .cm-scroller)::-webkit-scrollbar-track {
    background: transparent;
}

:where(.editor-scrollbar, .cm-editor .cm-scroller)::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: 4px;
}

:where(.editor-scrollbar, .cm-editor .cm-scroller)::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
}

/* =============================================================================
   CodeMirror Editor Styling
   ============================================================================= */

/* Base editor styles */
.cm-editor {
    height: 100%;
    font-size: 14px;
}

.cm-editor .cm-scroller {
    overflow: auto;
}

.cm-editor .cm-content {
    padding: 16px 0;
}

.cm-editor .cm-line {
    padding: 0 16px;
    line-height: 24px; /* h-6 from design */
}

/* =============================================================================
   Gutter Styling - matches design exactly
   ============================================================================= */

.cm-editor .cm-gutters {
    min-width: 48px; /* w-12 from design */
    padding-right: 0;
}

/* Line number gutter element styling */
.cm-editor .cm-lineNumbers {
    min-width: 48px; /* w-12 from design */
}

.cm-editor .cm-lineNumbers .cm-gutterElement {
    padding: 0 12px 0 0; /* pr-3 from design */
    min-width: 48px;
    text-align: right;
    font-size: 12px; /* text-xs from design */
    line-height: 24px; /* h-6 from design */
}
